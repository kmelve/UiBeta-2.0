!function($,t,e,i){"use strict";Foundation.libs.dropdown={name:"dropdown",version:"5.2.3",settings:{active_class:"open",align:"bottom",is_hover:!1,opened:function(){},closed:function(){}},init:function(t,e,i){Foundation.inherit(this,"throttle"),this.bindings(e,i)},events:function(e){var i=this,n=i.S;n(this.scope).off(".dropdown").on("click.fndtn.dropdown","["+this.attr_name()+"]",function(t){var e=n(this).data(i.attr_name(!0)+"-init")||i.settings;(!e.is_hover||Modernizr.touch)&&(t.preventDefault(),i.toggle($(this)))}).on("mouseenter.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(t){var e=n(this),a,s;clearTimeout(i.timeout),e.data(i.data_attr())?(a=n("#"+e.data(i.data_attr())),s=e):(a=e,s=n("["+i.attr_name()+"='"+a.attr("id")+"']"));var o=s.data(i.attr_name(!0)+"-init")||i.settings;n(t.target).data(i.data_attr())&&o.is_hover&&i.closeall.call(i),o.is_hover&&i.open.apply(i,[a,s])}).on("mouseleave.fndtn.dropdown","["+this.attr_name()+"], ["+this.attr_name()+"-content]",function(t){var e=n(this);i.timeout=setTimeout(function(){if(e.data(i.data_attr())){var t=e.data(i.data_attr(!0)+"-init")||i.settings;t.is_hover&&i.close.call(i,n("#"+e.data(i.data_attr())))}else{var a=n("["+i.attr_name()+'="'+n(this).attr("id")+'"]'),t=a.data(i.attr_name(!0)+"-init")||i.settings;t.is_hover&&i.close.call(i,e)}}.bind(this),150)}).on("click.fndtn.dropdown",function(t){var e=n(t.target).closest("["+i.attr_name()+"-content]");if(!n(t.target).data(i.data_attr())&&!n(t.target).parent().data(i.data_attr()))return!n(t.target).data("revealId")&&e.length>0&&(n(t.target).is("["+i.attr_name()+"-content]")||$.contains(e.first()[0],t.target))?void t.stopPropagation():void i.close.call(i,n("["+i.attr_name()+"-content]"))}).on("opened.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.opened.call(this)}).on("closed.fndtn.dropdown","["+i.attr_name()+"-content]",function(){i.settings.closed.call(this)}),n(t).off(".dropdown").on("resize.fndtn.dropdown",i.throttle(function(){i.resize.call(i)},50)),this.resize()},close:function(t){var e=this;t.each(function(){e.S(this).hasClass(e.settings.active_class)&&(e.S(this).css(Foundation.rtl?"right":"left","-99999px").removeClass(e.settings.active_class).prev("["+e.attr_name()+"]").removeClass(e.settings.active_class).removeData("target"),e.S(this).trigger("closed",[t]))})},closeall:function(){var t=this;$.each(t.S("["+this.attr_name()+"-content]"),function(){t.close.call(t,t.S(this))})},open:function(t,e){this.css(t.addClass(this.settings.active_class),e),t.prev("["+this.attr_name()+"]").addClass(this.settings.active_class),t.data("target",e.get(0)).trigger("opened",[t,e])},data_attr:function(){return this.namespace.length>0?this.namespace+"-"+this.name:this.name},toggle:function(t){var e=this.S("#"+t.data(this.data_attr()));0!==e.length&&(this.close.call(this,this.S("["+this.attr_name()+"-content]").not(e)),e.hasClass(this.settings.active_class)?(this.close.call(this,e),e.data("target")!==t.get(0)&&this.open.call(this,e,t)):this.open.call(this,e,t))},resize:function(){var t=this.S("["+this.attr_name()+"-content].open"),e=this.S("["+this.attr_name()+"='"+t.attr("id")+"']");t.length&&e.length&&this.css(t,e)},css:function(t,e){if(this.clear_idx(),this.small()){var i=this.dirs.bottom.call(t,e);t.attr("style","").removeClass("drop-left drop-right drop-top").css({position:"absolute",width:"95%","max-width":"none",top:i.top}),t.css(Foundation.rtl?"right":"left","2.5%")}else{var n=e.data(this.attr_name(!0)+"-init")||this.settings;this.style(t,e,n)}return t},style:function(t,e,i){var n=$.extend({position:"absolute"},this.dirs[i.align].call(t,e,i));t.attr("style","").css(n)},dirs:{_base:function(t){var e=this.offsetParent(),i=e.offset(),n=t.offset();return n.top-=i.top,n.left-=i.left,n},top:function(t,e){var i=Foundation.libs.dropdown,n=i.dirs._base.call(this,t),a=t.outerWidth()/2-8;return this.addClass("drop-top"),(t.outerWidth()<this.outerWidth()||i.small())&&i.adjust_pip(a,n),Foundation.rtl?{left:n.left-this.outerWidth()+t.outerWidth(),top:n.top-this.outerHeight()}:{left:n.left,top:n.top-this.outerHeight()}},bottom:function(t,e){var i=Foundation.libs.dropdown,n=i.dirs._base.call(this,t),a=t.outerWidth()/2-8;return(t.outerWidth()<this.outerWidth()||i.small())&&i.adjust_pip(a,n),i.rtl?{left:n.left-this.outerWidth()+t.outerWidth(),top:n.top+t.outerHeight()}:{left:n.left,top:n.top+t.outerHeight()}},left:function(t,e){var i=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-left"),{left:i.left-this.outerWidth(),top:i.top}},right:function(t,e){var i=Foundation.libs.dropdown.dirs._base.call(this,t);return this.addClass("drop-right"),{left:i.left+t.outerWidth(),top:i.top}}},adjust_pip:function(t,e){var i=Foundation.stylesheet;this.small()&&(t+=e.left-8),this.rule_idx=i.cssRules.length;var n=".f-dropdown.open:before",a=".f-dropdown.open:after",s="left: "+t+"px;",o="left: "+(t-1)+"px;";i.insertRule?(i.insertRule([n,"{",s,"}"].join(" "),this.rule_idx),i.insertRule([a,"{",o,"}"].join(" "),this.rule_idx+1)):(i.addRule(n,s,this.rule_idx),i.addRule(a,o,this.rule_idx+1))},clear_idx:function(){var t=Foundation.stylesheet;this.rule_idx&&(t.deleteRule(this.rule_idx),t.deleteRule(this.rule_idx),delete this.rule_idx)},small:function(){return matchMedia(Foundation.media_queries.small).matches&&!matchMedia(Foundation.media_queries.medium).matches},off:function(){this.S(this.scope).off(".fndtn.dropdown"),this.S("html, body").off(".fndtn.dropdown"),this.S(t).off(".fndtn.dropdown"),this.S("[data-dropdown-content]").off(".fndtn.dropdown")},reflow:function(){}}}(jQuery,window,window.document);